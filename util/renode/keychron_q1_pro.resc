using sysbus

# Default firmware path; override with
# `firmware=@path/to/custom.elf` when invoking Renode.
$firmware?=@$(BUILD_DIR)/$(TARGET).elf

mach create "keychron_q1_pro"
machine LoadPlatformDescription @keychron_q1_pro.repl

showAnalyzer sysbus.usart2

macro reset
"""
    sysbus LoadELF $firmware
"""

runMacro $reset
start
